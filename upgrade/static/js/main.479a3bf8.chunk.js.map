{"version":3,"sources":["App.js","serviceWorker.js","index.js","resources/forest.mp4"],"names":["App","state","info","height","target","error","isReached","getInfo","fetch","then","res","json","data","_this","setState","result","catch","this","setInterval","_this$state","heightDiff","timeTill","moment","unix","console","log","react_default","a","createElement","class","className","loop","autoPlay","src","bgVideo","type","href","xmlns","viewBox","d","transform","toString","replace","fromNow","Component","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"wQA8EeA,6MAzEbC,MAAQ,CACNC,KAAM,KACNC,OAAQ,EACRC,OAAQ,KACRC,MAAO,KACPC,WAAW,KAQbC,QAAU,kBACRC,MAAK,gDACJC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAG,GAAI,OAAIC,EAAKC,SAAS,iBAAO,CACjCZ,KAAMU,GAAQA,EAAKG,OACnBZ,OAAQS,GAAQA,EAAKG,OAASH,EAAKG,OAAOZ,OAAS,EACnDG,UAAWM,GAAQA,EAAKG,QAAUH,EAAKG,OAAOZ,QAAUU,EAAKZ,MAAMG,YAEpEY,MAAM,SAAAX,GAAK,OAAIQ,EAAKC,SAAS,iBAAO,CAAET,iGAZvCY,KAAKV,UACLW,YAAYD,KAAKV,QAAS,sCAanB,IAAAY,EAC2CF,KAAKhB,MAA/CC,EADDiB,EACCjB,KAAMC,EADPgB,EACOhB,OAAQC,EADfe,EACef,OAAQC,EADvBc,EACuBd,MAAOC,EAD9Ba,EAC8Bb,UAC/Bc,EAAalB,GAAQC,EAAS,EAAIC,EAASD,EAAS,EACpDkB,EAAmD,KAAvCC,MAASC,OAAuB,GAAbH,GAGrC,OAFAf,GAASmB,QAAQC,IAAIpB,GAGnBqB,EAAAC,EAAAC,cAAA,OAAKC,MAAM,OACTH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,mBACbJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,WAAWC,MAAI,EAACC,UAAQ,GACvCN,EAAAC,EAAAC,cAAA,UAAQK,IAAKC,IAASC,KAAK,cAD7B,iDAKFT,EAAAC,EAAAC,cAAA,OAAKE,UAAU,2DACZV,EAAa,EACZM,EAAAC,EAAAC,cAAA,OAAKE,UAAU,0BACbJ,EAAAC,EAAAC,cAAA,KAAGQ,KAAK,4BAA4BhC,OAAO,UACzCsB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WAAWO,MAAM,6BAA6BC,QAAQ,kBAAiBZ,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAAA,oCAA4CF,EAAAC,EAAAC,cAAA,8BAA4BF,EAAAC,EAAAC,cAAA,QAAMC,MAAM,QAAQU,EAAE,wiEAAwiEC,UAAU,6BAE7uElC,EACCoB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIE,UAAU,aAAd,cAGAJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,aAAd,cAKFJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIE,UAAU,aACXV,EAAWqB,WAAWC,QAAQ,wBAAyB,KAD1D,IACgEhB,EAAAC,EAAAC,cAAA,8BAEhEF,EAAAC,EAAAC,cAAA,MAAIE,UAAU,aAAd,sBACqBJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,cAAeR,IAAOD,GAAUsB,UAAUD,QAAQ,KAAM,eAOjGhB,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,QAAME,UAAU,cAAhB,wBAlECc,aCQEC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAOzB,EAAAC,EAAAC,cAACwB,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMhD,KAAK,SAAAiD,GACjCA,EAAaC,kCEnInBC,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.479a3bf8.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport moment from 'moment'\nimport bgVideo from './resources/forest.mp4'\n\nclass App extends Component {\n  state = {\n    info: null,\n    height: 0,\n    target: 830000,\n    error: null,\n    isReached: false,\n  }\n\n  componentDidMount() {\n    this.getInfo()\n    setInterval(this.getInfo, 5000)\n  }\n\n  getInfo = () =>\n    fetch(`https://api.mbc.wiki/?method=blockchain.info`)\n    .then(res => res.json())\n    .then(data => this.setState(() => ({\n      info: data && data.result,\n      height: data && data.result ? data.result.height : 0,\n      isReached: data && data.result && data.result.height >= this.state.target\n    })))\n    .catch(error => this.setState(() => ({ error })))\n\n  render() {\n    const { info, height, target, error, isReached} = this.state\n    const heightDiff = info && height > 0 ? target - height : 0\n    const timeTill = (moment().unix() + (heightDiff * 60)) * 1000\n    error && console.log(error)\n\n    return (\n      <div class=\"App\">\n        <div className=\"video-container\">\n          <video className=\"bg-video\" loop autoPlay>\n            <source src={bgVideo} type=\"video/mp4\" />\n            Your browser does not support the video tag.\n          </video>\n        </div>\n        <div className=\"blocks d-flex justify-content-center align-items-center\">\n          {heightDiff > 0 ? (\n            <div className=\"text-center text-white\">\n              <a href=\"https://microbitcoin.org/\" target=\"_blank\">\n                <svg className=\"mbc-logo\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 290.82 480\"><defs><style>{`.cls-1{fill:#fff;}`}</style></defs><title>mbc_whiteicon</title><path class=\"cls-1\" d=\"M110.59,412.2q0-154.62,0-309.25c.08-.4.19-.8.24-1.2.26-1.9.37-3.82.78-5.68C115.3,79.56,128.94,68,146.06,66.85c2.9-.19,5.82,0,8.88,0V65q0-11.51,0-23a21,21,0,0,1,2.72-10.45c4.19-7.45,10.78-11.77,18.8-14.11,2.28-.66,4.65-1,7-1.48h7.2a4.15,4.15,0,0,0,.79.25,34.53,34.53,0,0,1,13,4c9.41,5.18,15,12.69,14.72,23.91-.18,7,0,14,0,21v1.48h36.33V64.93q0-11.44,0-22.88a20.7,20.7,0,0,1,2.25-9.56c4.08-8,10.9-12.53,19.27-15,2.28-.67,4.66-1,7-1.47h7.2a5.89,5.89,0,0,0,.93.26,34.58,34.58,0,0,1,12.71,3.87c9.59,5.23,15.17,12.89,14.86,24.28-.21,7.57,0,15.15-.06,22.73,0,1,.23,1.44,1.34,1.68,27.3,5.89,48.79,20.41,64.25,43.67a96.28,96.28,0,0,1,15.73,45c.15,1.6.35,3.2.53,4.8v9.21a7,7,0,0,0-.23.94c-.43,3.81-.58,7.67-1.3,11.42-6.09,32.14-23.7,55.91-52.3,71.64-1.33.73-2.7,1.38-4.19,2.14.38.22.57.35.78.45a99.39,99.39,0,0,1,34.49,27,98.22,98.22,0,0,1,22.22,53.8c.15,1.6.35,3.19.53,4.79v9.21a5,5,0,0,0-.23.94,94.9,94.9,0,0,1-11,40.3c-15,28-38.19,45.41-69.22,52.3-1.05.23-1.4.56-1.39,1.65,0,7,0,14,0,21a23.11,23.11,0,0,1-7,17c-12,12.2-34,13.36-47.5,2.52-6.43-5.17-10-11.71-9.74-20.16.16-6.09,0-12.19,0-18.28v-1.55H219.1v1.65c0,6.29-.05,12.57,0,18.86a23.08,23.08,0,0,1-7.45,17.46c-11.8,11.42-32.44,12.69-46,2.81-7.11-5.19-11-12-10.8-21.09.15-6,0-12.09,0-18.14v-1.64h-7.19a37.26,37.26,0,0,1-36.31-30.21C111.07,416.26,110.87,414.23,110.59,412.2ZM234.1,196.25h62.18c7.14,0,14.3-.17,21.43.05a31.46,31.46,0,1,0,1.48-62.89l-41.58,0H229.15l-48,0c-22.34,0-37.63,22.6-29.06,43.23,2,4.93,4.92,9.52,7.46,14.24,3.92,7.25,7.88,14.47,11.83,21.7l14,25.73q5.51,10.09,11,20.2a1.55,1.55,0,0,1,0,1.26q-5.52,10.08-11.11,20.13L169.4,308.47c-4.71,8.51-9.33,17.06-14.14,25.52-3.28,5.77-5.92,11.65-6.13,18.47-.48,15.47,11,29.58,26.26,31.76,3.6.51,7.34.06,11,.06H287.54c8.68,0,17.36,0,26,0,4.5,0,9,.34,13.47-.7a31.45,31.45,0,0,0,24.24-35.62c-2-14.28-14.62-25.83-29-26.44-5.83-.25-11.68-.13-17.53-.12-7.23,0-14.46.08-21.69.08s-14.74-.08-22.12-.08-14.45.06-21.68.09H234.2c.43-.83.72-1.42,1-2l10.44-18.86,14.06-25.4c5.31-9.59,5.88-19.41,1.25-29.38-1.77-3.82-3.94-7.45-6-11.15q-7.9-14.51-15.82-29C237.54,202.61,235.88,199.54,234.1,196.25Z\" transform=\"translate(-110.59 -16)\"></path></svg>\n              </a>\n              {isReached ? (\n                <div>\n                  <h1 className=\"display-1\">\n                    Rainforest\n                  </h1>\n                  <h4 className=\"display-4\">\n                    Activated\n                  </h4>\n                </div>\n              ) : (\n                <div>\n                  <h1 className=\"display-1\">\n                    {heightDiff.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} <small>blocks left!</small>\n                  </h1>\n                  <h4 className=\"display-4\">\n                    Rainforest upgrade <br className=\"d-md-none\" />{moment(timeTill).fromNow().replace('in', 'in about')}\n                  </h4>\n                </div>\n              )}\n              \n            </div>\n          ) : (\n            <div><code className=\"text-muted\">loading...</code></div>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/forest.ca0d90f3.mp4\";"],"sourceRoot":""}